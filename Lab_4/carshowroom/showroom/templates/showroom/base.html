{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>{% block title %}My shop{% endblock %}</title>
    
</head>
<body>
<div id="header">
    <a href="/" class="logo">My shop</a>
    <p id="current-time"
                    style="width: 70%; text-align: center; color: black;margin: 0 auto; position: relative;">
                </p>

    {% if not user.is_authenticated %}
        <a href="{% url "account:login" %}" class="button light"> Log in </a> 
        <a href="{% url "account:register" %}">Sign Up</a></p>   
    {% else %}    
        <a href="{% url "account:logout" %}" class="button light"> Log out </a>           
    {% endif %}

<div id="subheader">
    <div class="cart">
        {% with total_items=cart|length %}
            {% if cart|length > 0 %}
                Your cart:
                <a href="{% url "cart:cart_detail" %}">
                    {{ total_items }} item{{ total_items|pluralize }},
                    ${{ cart.get_total_price }}
                </a>
            {% else %}
                Your cart is empty.
            {% endif %}
        {% endwith %}
    </div>
</div>
<div id="content">
    {% block content %}
    {% endblock %}
</div>

<script>
    let time = document.getElementById('current-time');

    setInterval(() => {
        let d = new Date();
        time.innerHTML = "Current date: " + d.toLocaleDateString() + " " + d.toLocaleTimeString();
    }, 1000)

</script>
</body>
</html>